name: 'Release Label Validator'
description: 'Validate Pull Request Release Labels'
author: hello@cloudposse.com
branding:
  icon: 'file'
  color: 'white'
runs:
  using: "composite"
  steps:
    - name: Get Default Branch
      if: github.event_name == 'pull_request' && contains(github.event.pull_request.labels.*.name, 'major')
      shell: bash
      run: |
          echo "default_branch=${{ github.event.repository.default_branch }}"
          echo "branch=${{ github.ref_name }}"
          echo "event_name=${{ github.event_name }}"

    - name: All
      shell: bash
      run: |
          echo "default_branch=${{ github.event.repository.default_branch }}"
          echo "branch=${{ github.ref_name }}"
          echo "event_name=${{ github.event_name }}"
          echo "github=${{ toJson(github) }}"
          echo "github_event=${{ toJson(github.event) }}"
